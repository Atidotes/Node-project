"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[226],{5881:function(t,e,n){n.d(e,{Ir:function(){return i},Uu:function(){return o},rj:function(){return a}});var r=n(8408);const o=()=>(0,r.Z)({method:"GET",url:"/product/list"}),i=t=>(0,r.Z)({method:"DELETE",url:`/product/list/${t}`}),a=t=>(0,r.Z)({method:"GET",url:`/product/list/${t}`})},5007:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(8927),o=(n(1758),n(6905),n(2563)),i=(n(5885),n(6465)),a=(n(6809),n(9007),n(8135)),c=(n(4115),n(7658),n(3396)),l=n(4870),u=n(7139),s=n(5881),d=n(9328),m=n(2748),p=n(2483),f=n(65),w=n(1565),b=(n(7228),{__name:"productList",setup(t){const e=(0,p.tv)(),n=(0,f.oR)(),b=((0,l.iH)(!1),(0,l.qj)({tableData:[]})),_=(0,c.Fl)((()=>n.state.userInfo));(0,c.bv)((()=>{g()}));const h=t=>{e.push(`/product-edit/${t._id}`)},k=async t=>{let e=await(0,s.Ir)(t._id);200===e.code&&e.success?(g(),(0,w.z8)({type:"success",message:e.message})):(0,w.z8)({type:"error",message:"删除失败"})},g=async()=>{let t=await(0,s.Uu)();200===t.code&&t.success?b.tableData=t.data:(0,w.z8)({type:"error",message:"请求资源失败"})};return(t,e)=>{const n=a.Xh,s=r.$Y,p=i.mi,f=o.i1,w=r.eI;return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(n,{icon:null,title:"产品管理",content:"产品列表"}),(0,c.Wm)(w,{data:b.tableData,border:"",style:{width:"100%","margin-top":"50px"}},{default:(0,c.w5)((()=>[(0,c.Wm)(s,{prop:"title",label:"标题"}),1===(0,l.SU)(_).role?((0,c.wg)(),(0,c.j4)(s,{key:0,prop:"user",label:"归属账号"})):(0,c.kq)("",!0),(0,c.Wm)(s,{prop:"introduction",label:"简要描述"},{default:(0,c.w5)((t=>[(0,c.Uk)((0,u.zw)(t.row.introduction),1)])),_:1}),(0,c.Wm)(s,{prop:"editTime",label:"更新时间"},{default:(0,c.w5)((t=>[(0,c.Uk)((0,u.zw)((0,l.SU)(d.i)(t.row.editTime)),1)])),_:1}),(0,c.Wm)(s,{fixed:"right",label:"操作"},{default:(0,c.w5)((t=>[(0,c.Wm)(p,{circle:"",icon:(0,l.SU)(m.I8b),onClick:e=>h(t.row)},null,8,["icon","onClick"]),(0,c.Wm)(f,{title:"你确定要删除嘛？","confirm-button-text":"确认","cancel-button-text":"取消",onConfirm:e=>k(t.row)},{reference:(0,c.w5)((()=>[(0,c.Wm)(p,{circle:"",type:"danger",icon:(0,l.SU)(m.HG3)},null,8,["icon"])])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])],64)}}}),_=n(89);const h=(0,_.Z)(b,[["__scopeId","data-v-7f0e852d"]]);var k=h}}]);
//# sourceMappingURL=226.1dfd2a25.js.map