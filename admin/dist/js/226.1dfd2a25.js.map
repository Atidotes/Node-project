{"version":3,"file":"js/226.1dfd2a25.js","mappings":"wMAGO,MAAMA,EAAc,KAAMC,EAAAA,EAAAA,GAAS,CAAEC,OAAQ,MAAOC,IAAK,kBAGnDC,EAAiBC,IAAOJ,EAAAA,EAAAA,GAAS,CAAEC,OAAQ,SAAUC,IAAM,iBAAgBE,MAG3EC,EAAeD,IAAOJ,EAAAA,EAAAA,GAAS,CAAEC,OAAQ,MAAOC,IAAM,iBAAgBE,K,wQCGnF,G,QAAA,CACEE,OAAQ,cACRC,MAAMC,GACJ,MAAMC,GAAS,UACTC,GAAQ,UAERC,IADgB,SAAI,IACN,QAAS,CAC3BC,UAAW,MAEPC,GAAW,SAAS,IAAMH,EAAMI,MAAMD,YAC5C,SAAU,KACRE,GAAS,IAMX,MAAMC,EAAaC,IACjBR,EAAOS,KAAK,iBAAiBD,EAAOE,MAAM,EAMtCC,EAAoBC,UACxB,IAAIC,QAAe,QAAcL,EAAOE,KACpB,MAAhBG,EAAOC,MAAgBD,EAAOE,SAChCT,KACA,QAAU,CACRU,KAAM,UACNC,QAASJ,EAAOI,YAGlB,QAAU,CACRD,KAAM,QACNC,QAAS,QAEb,EAMIX,EAAUM,UACd,IAAIC,QAAe,UACC,MAAhBA,EAAOC,MAAgBD,EAAOE,QAChCb,EAAYC,UAAYU,EAAOK,MAE/B,QAAU,CACRF,KAAM,QACNC,QAAS,UAEb,EAEF,MAAO,CAACE,EAAMC,KACZ,MAAMC,EAA4B,KAC5BC,EAA6B,KAC7BC,EAAuB,KACvBC,EAA2B,KAC3BC,EAAsB,KAC5B,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,QAAaJ,EAA2B,CACjGK,KAAM,KACNC,MAAO,OACPC,QAAS,UACP,QAAaH,EAAqB,CACpCP,KAAMhB,EAAYC,UAClB0B,OAAQ,GACRC,MAAO,CACL,MAAS,OACT,aAAc,SAEf,CACDC,SAAS,SAAS,IAAM,EAAC,QAAaT,EAA4B,CAChEU,KAAM,QACNC,MAAO,OACqB,KAA1B,QAAO7B,GAAU8B,OAAc,WAAc,QAAaZ,EAA4B,CACxFa,IAAK,EACLH,KAAM,OACNC,MAAO,WACH,QAAoB,IAAI,IAAO,QAAaX,EAA4B,CAC5EU,KAAM,eACNC,MAAO,QACN,CACDF,SAAS,SAASK,GAAS,EAAC,SAAiB,QAAiBA,EAAMC,IAAIC,cAAe,MACvFC,EAAG,KACD,QAAajB,EAA4B,CAC3CU,KAAM,WACNC,MAAO,QACN,CACDF,SAAS,SAASK,GAAS,EAAC,SAAiB,SAAiB,QAAOI,EAAA,EAAP,CAAmBJ,EAAMC,IAAII,WAAY,MACvGF,EAAG,KACD,QAAajB,EAA4B,CAC3CoB,MAAO,QACPT,MAAO,MACN,CACDF,SAAS,SAASK,GAAS,EAAC,QAAab,EAAsB,CAC7DoB,OAAQ,GACRjB,MAAM,QAAO,OACbkB,QAASC,GAAUtC,EAAW6B,EAAMC,MACnC,KAAM,EAAG,CAAC,OAAQ,aAAa,QAAab,EAA0B,CACvEG,MAAO,WACP,sBAAuB,KACvB,qBAAsB,KACtBmB,UAAWD,GAAUlC,EAAkByB,EAAMC,MAC5C,CACDU,WAAW,SAAS,IAAM,EAAC,QAAaxB,EAAsB,CAC5DoB,OAAQ,GACR3B,KAAM,SACNU,MAAM,QAAO,QACZ,KAAM,EAAG,CAAC,YACba,EAAG,GACF,KAAM,CAAC,iBACVA,EAAG,OAELA,EAAG,GACF,EAAG,CAAC,UAAW,GAAG,CAEzB,I,QC3HF,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://admin/./src/api/productApi.js","webpack://admin/./src/views/ProductManage/productList.vue","webpack://admin/./src/views/ProductManage/productList.vue?a254"],"sourcesContent":["import requests from \"@/util/axios.config\";\r\n\r\n/** 获取产品表格数据 */\r\nexport const productList = () => requests({ method: 'GET', url: '/product/list' })\r\n\r\n/** 删除产品 */\r\nexport const deleteProduct = (id) => requests({ method: 'DELETE', url: `/product/list/${id}` })\r\n\r\n/** 获取产品数据 */\r\nexport const productInfo = (id) => requests({ method: 'GET', url: `/product/list/${id}` })\r\n\r\n","import \"core-js/modules/es.array.push.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { productList, deleteProduct } from \"../../api/productApi\";\nimport { timeFormat } from \"../../util/timeFormat\";\nimport { Edit, Delete } from \"@element-plus/icons-vue\";\nimport { useRouter } from \"vue-router\";\nimport { useStore } from 'vuex';\n\nimport { ElMessage } from 'element-plus/es';\nimport 'element-plus/es/components/base/style/css';\nimport 'element-plus/es/components/message/style/css';\nexport default {\n  __name: 'productList',\n  setup(__props) {\n    const router = useRouter();\n    const store = useStore();\n    const dialogVisible = ref(false);\n    const productData = reactive({\n      tableData: []\n    });\n    const userInfo = computed(() => store.state.userInfo);\n    onMounted(() => {\n      getData();\n    });\n\n    /**\r\n     * 编辑新闻\r\n     */\n    const handleEdit = record => {\n      router.push(`/product-edit/${record._id}`);\n    };\n\n    /**\r\n     * 删除新闻\r\n     */\n    const deleteProductInfo = async record => {\n      let result = await deleteProduct(record._id);\n      if (result.code === 200 && result.success) {\n        getData();\n        ElMessage({\n          type: \"success\",\n          message: result.message\n        });\n      } else {\n        ElMessage({\n          type: \"error\",\n          message: \"删除失败\"\n        });\n      }\n    };\n\n    /**\r\n     * 获取表格数据\r\n     */\n    const getData = async () => {\n      let result = await productList();\n      if (result.code === 200 && result.success) {\n        productData.tableData = result.data;\n      } else {\n        ElMessage({\n          type: \"error\",\n          message: \"请求资源失败\"\n        });\n      }\n    };\n    return (_ctx, _cache) => {\n      const _component_el_page_header = _resolveComponent(\"el-page-header\");\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_popconfirm = _resolveComponent(\"el-popconfirm\");\n      const _component_el_table = _resolveComponent(\"el-table\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_page_header, {\n        icon: null,\n        title: \"产品管理\",\n        content: \"产品列表\"\n      }), _createVNode(_component_el_table, {\n        data: productData.tableData,\n        border: \"\",\n        style: {\n          \"width\": \"100%\",\n          \"margin-top\": \"50px\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"title\",\n          label: \"标题\"\n        }), _unref(userInfo).role === 1 ? (_openBlock(), _createBlock(_component_el_table_column, {\n          key: 0,\n          prop: \"user\",\n          label: \"归属账号\"\n        })) : _createCommentVNode(\"\", true), _createVNode(_component_el_table_column, {\n          prop: \"introduction\",\n          label: \"简要描述\"\n        }, {\n          default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.row.introduction), 1)]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          prop: \"editTime\",\n          label: \"更新时间\"\n        }, {\n          default: _withCtx(scope => [_createTextVNode(_toDisplayString(_unref(timeFormat)(scope.row.editTime)), 1)]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          fixed: \"right\",\n          label: \"操作\"\n        }, {\n          default: _withCtx(scope => [_createVNode(_component_el_button, {\n            circle: \"\",\n            icon: _unref(Edit),\n            onClick: $event => handleEdit(scope.row)\n          }, null, 8, [\"icon\", \"onClick\"]), _createVNode(_component_el_popconfirm, {\n            title: \"你确定要删除嘛？\",\n            \"confirm-button-text\": \"确认\",\n            \"cancel-button-text\": \"取消\",\n            onConfirm: $event => deleteProductInfo(scope.row)\n          }, {\n            reference: _withCtx(() => [_createVNode(_component_el_button, {\n              circle: \"\",\n              type: \"danger\",\n              icon: _unref(Delete)\n            }, null, 8, [\"icon\"])]),\n            _: 2\n          }, 1032, [\"onConfirm\"])]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"data\"])], 64);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./productList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./productList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./productList.vue?vue&type=style&index=0&id=7f0e852d&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\node\\\\admin\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7f0e852d\"]])\n\nexport default __exports__"],"names":["productList","requests","method","url","deleteProduct","id","productInfo","__name","setup","__props","router","store","productData","tableData","userInfo","state","getData","handleEdit","record","push","_id","deleteProductInfo","async","result","code","success","type","message","data","_ctx","_cache","_component_el_page_header","_component_el_table_column","_component_el_button","_component_el_popconfirm","_component_el_table","icon","title","content","border","style","default","prop","label","role","key","scope","row","introduction","_","timeFormat","editTime","fixed","circle","onClick","$event","onConfirm","reference","__exports__"],"sourceRoot":""}