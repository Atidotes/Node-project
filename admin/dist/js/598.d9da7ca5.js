"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[598],{355:function(e,a,l){l.d(a,{X:function(){return t},d:function(){return r}});const r=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,t=/^(?=.*[A-z])(?=.*[0-9])(?=.*[#?!@$%^&*-.]).{8,16}$/},2885:function(e,a,l){l.r(a),l.d(a,{default:function(){return v}});var r=l(4143),t=(l(1758),l(7437),l(2913)),o=(l(2064),l(6465)),u=(l(6809),l(438)),s=(l(3877),l(7960),l(7113),l(9866)),n=(l(172),l(8135)),d=(l(4115),l(7658),l(3396)),m=l(4870),i=l(355),c=l(6121),p=l(8783),f=l(2483),w=l(1565),g=(l(7228),{__name:"userAdd",setup(e){const a=(0,f.tv)(),l=(0,m.iH)(""),g=(0,m.qj)({userName:"",accountNumber:"",password:"",introduction:"",avatar:"",role:"",file:null,gender:0}),b=(0,m.qj)([{value:1,label:"管理员"},{value:2,label:"编辑员"}]),v=e=>{g.avatar=URL.createObjectURL(e),g.file=e},h=(e,a,l)=>a?i.d.test(a)?l():l(new Error("请正确输入账号！")):l(new Error("请输入账号！")),y=(e,a,l)=>a?i.X.test(a)?l():l(new Error("密码由字母、数字、特殊符号组成8~16位组合")):l(new Error("请输入密码！")),_=(0,m.qj)({userName:[{required:!0,message:"请输入用户名！",trigger:"blur"},{min:2,max:10,message:"用户名长度为2~5个字符",trigger:"blur"}],accountNumber:[{validator:h,trigger:"blur"}],password:[{validator:y,trigger:"blur"}],introduction:[{required:!0,message:"请输入简介！",trigger:"blur"}],avatar:[{required:!1,message:"请上传头像！",trigger:"blur"}],role:[{required:!0,message:"请选择角色！",trigger:"blur"}]}),W=()=>{l.value.validate((async e=>{if(e){const e=new FormData;for(let a in g)e.append(a,g[a]);const l=await(0,p.w)("/user/add",e);200===l.code&&l.success?(a.push("/user-list"),(0,w.z8)({message:l.message,type:"success"})):(0,w.z8)({message:l.message,type:"error"})}}))};return(e,a)=>{const m=n.Xh,i=s.EZ,p=t.nH,f=u.BT,w=u.km,h=o.mi,y=t.ly,V=r.Kf;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)(m,{icon:null,title:"用户管理",content:"添加用户"}),(0,d.Wm)(V,{style:{"margin-top":"50px"}},{default:(0,d.w5)((()=>[(0,d.Wm)(y,{ref_key:"userFormRef",ref:l,model:g,"status-icon":"",rules:_,"label-position":"right","label-width":85},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{label:"用户名",prop:"userName"},{default:(0,d.w5)((()=>[(0,d.Wm)(i,{modelValue:g.userName,"onUpdate:modelValue":a[0]||(a[0]=e=>g.userName=e),modelModifiers:{number:!0},type:"text",autocomplete:"off","show-word-limit":"",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(p,{label:"账号",prop:"accountNumber"},{default:(0,d.w5)((()=>[(0,d.Wm)(i,{modelValue:g.accountNumber,"onUpdate:modelValue":a[1]||(a[1]=e=>g.accountNumber=e),modelModifiers:{number:!0},type:"text",autocomplete:"off","show-word-limit":"",placeholder:"请输入账号/手机号"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(p,{label:"密码",prop:"password"},{default:(0,d.w5)((()=>[(0,d.Wm)(i,{modelValue:g.password,"onUpdate:modelValue":a[2]||(a[2]=e=>g.password=e),type:"password",autocomplete:"off",placeholder:"请输入密码","show-password":"",maxlength:"16",minlength:"8"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(p,{label:"角色",prop:"role"},{default:(0,d.w5)((()=>[(0,d.Wm)(w,{modelValue:g.role,"onUpdate:modelValue":a[3]||(a[3]=e=>g.role=e),placeholder:"请选择角色"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(b,(e=>((0,d.wg)(),(0,d.j4)(f,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,d.Wm)(p,{label:"个人简介",prop:"introduction"},{default:(0,d.w5)((()=>[(0,d.Wm)(i,{modelValue:g.introduction,"onUpdate:modelValue":a[4]||(a[4]=e=>g.introduction=e),rows:2,type:"textarea",placeholder:"请填写个人简介",autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(p,{label:"头像",prop:"avatar"},{default:(0,d.w5)((()=>[(0,d.Wm)(c.Z,{avatar:g.avatar,onUpload:v},null,8,["avatar"])])),_:1}),(0,d.Wm)(p,null,{default:(0,d.w5)((()=>[(0,d.Wm)(h,{type:"primary",onClick:W},{default:(0,d.w5)((()=>[(0,d.Uk)("添加用户")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})],64)}}});const b=g;var v=b},4143:function(e,a,l){l.d(a,{Kf:function(){return f}});var r=l(3396),t=l(7139),o=l(4870),u=l(5994);const s=(0,u.o8)({header:{type:String,default:""},bodyStyle:{type:(0,u.Cq)([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}});var n=l(5989),d=l(6734);const m=(0,r.aZ)({name:"ElCard"}),i=(0,r.aZ)({...m,props:s,setup(e){const a=(0,d.s)("card");return(e,l)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,t.C_)([(0,o.SU)(a).b(),(0,o.SU)(a).is(`${e.shadow}-shadow`)])},[e.$slots.header||e.header?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,t.C_)((0,o.SU)(a).e("header"))},[(0,r.WI)(e.$slots,"header",{},(()=>[(0,r.Uk)((0,t.zw)(e.header),1)]))],2)):(0,r.kq)("v-if",!0),(0,r._)("div",{class:(0,t.C_)((0,o.SU)(a).e("body")),style:(0,t.j5)(e.bodyStyle)},[(0,r.WI)(e.$slots,"default")],6)],2))}});var c=(0,n.Z)(i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]),p=l(9015);const f=(0,p.nz)(c)},7437:function(e,a,l){l(1758)}}]);
//# sourceMappingURL=598.d9da7ca5.js.map